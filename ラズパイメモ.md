## PCとラズパイを接続する
### wifiとsshを有効にする
注意：wifiは2.4GHzを使う。A/Gのうち、Gの方。  

①OSをツールでインストールする場合  
SDカードをPCに接続する。  
  
1-1.  
Raspberry pi imagerを使う。  
https://www.raspberrypi.com/software/  
  
インストール時に、Wifiの設定とsshを有効にする。  
  
参考  
https://dev.classmethod.jp/articles/raspberry-pi-imager-introduction/


②OSイメージをインストールする場合  
（①で失敗した場合）  
イメージをダウンロード  
https://www.raspberrypi.com/software/operating-systems/  
「Raspberry Pi OS with desktop」を取得した。  

こんな感じだった。  
```
xz -d 2022-04-04-raspios-bullseye-arm64.img.xz
diskutil list
diskutil unMountDisk /dev/disk2
sudo dd if=2022-04-04-raspios-bullseye-arm64.img of=/dev/rdisk2 bs=1m
```
参考  
https://steam.place/entry/2018/05/12/190425  
→ ③へ続く  

③OSはインストール済みの場合  
SDカードをPCに接続する。  
- ssh  
ルートディレクトリにwifiという空のファイルを作る。  
- wifi  
wpa_supplicant.conf
```
country=JP
ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
update_config=1
network={
    ssid="test"
    psk="abcd1234"
}
```
参考  
https://qiita.com/mascii/items/0d1a280ac58ed8f6f999  

### ssh接続確認
アカウント:pi  
初期パスワード:raspberry  
URL:raspberrypi.local  

Mac:ターミナルから接続  
```
ssh pi@raspberrypi.local
```

Win: teratermを使う。  
https://ja.osdn.net/projects/ttssh2/releases/  

### vnc
- sshで接続
- VNCを有効にする  
設定ツールを使う。  
```
raspi-config
```

- 接続  
Mac :サーバへ接続（⌘+k）  
vnc://raspberrypi.local  

Win :vnc viewerを使う。  
https://www.realvnc.com/en/connect/download/viewer/windows/  

認証方式をVNCPasswordにする必要がある。  
https://denseforestreviewcannotsay.blogspot.com/2019/12/mac-raspbianvnc-apple-remote-desktop.html  
https://lab4ict.com/system/archives/4678  


## Greengrass v2設定
このブログを参考にする。  
https://dev.classmethod.jp/articles/aws-iot-greengrass-v2-raspi-install/  
